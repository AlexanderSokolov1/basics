<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1251">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<title>Title</title>

<style id="dynCom" type="text/css"><!-- --></style>
<script language="JavaScript"><!--
function msoCommentShow(anchor_id, com_id)
{
	if(msoBrowserCheck()) 
		{
		c = document.all(com_id);
		a = document.all(anchor_id);
		if (null != c && null == c.length && null != a && null == a.length)
			{
			var cw = c.offsetWidth;
			var ch = c.offsetHeight;
			var aw = a.offsetWidth;
			var ah = a.offsetHeight;
			var x  = a.offsetLeft;
			var y  = a.offsetTop;
			var el = a;
			while (el.tagName != "BODY") 
				{
				el = el.offsetParent;
				x = x + el.offsetLeft;
				y = y + el.offsetTop;
				}
			var bw = document.body.clientWidth;
			var bh = document.body.clientHeight;
			var bsl = document.body.scrollLeft;
			var bst = document.body.scrollTop;
			if (x + cw + ah / 2 > bw + bsl && x + aw - ah / 2 - cw >= bsl ) 
				{ c.style.left = x + aw - ah / 2 - cw; }
			else 
				{ c.style.left = x + ah / 2; }
			if (y + ch + ah / 2 > bh + bst && y + ah / 2 - ch >= bst ) 
				{ c.style.top = y + ah / 2 - ch; }
			else 
				{ c.style.top = y + ah / 2; }
			c.style.visibility = "visible";
}	}	}
function msoCommentHide(com_id) 
{
	if(msoBrowserCheck())
		{
		c = document.all(com_id);
		if (null != c && null == c.length)
		{
		c.style.visibility = "hidden";
		c.style.left = -1000;
		c.style.top = -1000;
		} } 
}
function msoBrowserCheck()
{
	ms = navigator.appVersion.indexOf("MSIE");
	vers = navigator.appVersion.substring(ms + 5, ms + 6);
	ie4 = (ms > 0) && (parseInt(vers) >= 4);
	return ie4;
}
if (msoBrowserCheck())
{
	document.styleSheets.dynCom.addRule(".msocomanchor","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomoff","display: none");
	document.styleSheets.dynCom.addRule(".msocomtxt","visibility: hidden");
	document.styleSheets.dynCom.addRule(".msocomtxt","position: absolute");
	document.styleSheets.dynCom.addRule(".msocomtxt","top: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","left: -1000");
	document.styleSheets.dynCom.addRule(".msocomtxt","width: 33%");
	document.styleSheets.dynCom.addRule(".msocomtxt","background: infobackground");
	document.styleSheets.dynCom.addRule(".msocomtxt","color: infotext");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-top: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-right: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-bottom: 2pt solid threedshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","border-left: 1pt solid threedlightshadow");
	document.styleSheets.dynCom.addRule(".msocomtxt","padding: 3pt 3pt 3pt 3pt");
	document.styleSheets.dynCom.addRule(".msocomtxt","z-index: 100");
}
// --></script>
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:Helvetica;
	panose-1:2 11 6 4 2 2 2 2 2 4;}
@font-face
	{font-family:Courier;
	panose-1:2 7 4 9 2 2 5 2 4 4;}
@font-face
	{font-family:Wingdings;
	panose-1:5 0 0 0 0 0 0 0 0 0;}
@font-face
	{font-family:"MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
@font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:Calibri;
	panose-1:2 15 5 2 2 2 4 3 2 4;}
@font-face
	{font-family:"Trebuchet MS";
	panose-1:2 11 6 3 2 2 2 2 2 4;}
@font-face
	{font-family:"Arial Black";
	panose-1:2 11 10 4 2 1 2 2 2 4;}
@font-face
	{font-family:Tahoma;
	panose-1:2 11 6 4 3 5 4 4 2 4;}
@font-face
	{font-family:"Segoe UI";
	panose-1:2 11 5 2 4 2 4 2 2 3;}
@font-face
	{font-family:Consolas;
	panose-1:2 11 6 9 2 2 4 3 2 4;}
@font-face
	{font-family:"\@MS Mincho";
	panose-1:2 2 6 9 4 2 5 8 3 4;}
@font-face
	{font-family:"\@MS Gothic";
	panose-1:2 11 6 9 7 2 5 8 2 4;}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:12.0pt;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
h1
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:normal;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial Black",sans-serif;
	color:#464547;
	text-transform:uppercase;
	font-weight:normal;}
h2
	{mso-style-link:"Heading 2 Char";
	margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:normal;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial Black",sans-serif;
	color:#1A9CB0;
	text-transform:uppercase;
	font-weight:normal;}
h3
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:.5in;
	text-indent:-.5in;
	line-height:normal;
	page-break-after:avoid;
	font-size:12.0pt;
	font-family:"Arial Black",sans-serif;
	color:#1A9CB0;
	font-weight:bold;}
h4
	{margin-top:10.0pt;
	margin-right:0in;
	margin-bottom:8.0pt;
	margin-left:53.85pt;
	text-indent:-53.85pt;
	line-height:normal;
	page-break-after:avoid;
	font-size:11.0pt;
	font-family:"Arial Black",sans-serif;
	color:#1A9CB0;
	font-weight:normal;}
p.MsoToc1, li.MsoToc1, div.MsoToc1
	{margin:0in;
	margin-bottom:.0001pt;
	line-height:normal;
	font-size:10.0pt;
	font-family:"Trebuchet MS",sans-serif;
	color:#3B3838;
	text-transform:uppercase;}
p.MsoCommentText, li.MsoCommentText, div.MsoCommentText
	{mso-style-link:"Comment Text Char";
	margin:0in;
	margin-bottom:.0001pt;
	line-height:normal;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;}
p.MsoTitle, li.MsoTitle, div.MsoTitle
	{margin-top:12.0pt;
	margin-right:0in;
	margin-bottom:15.0pt;
	margin-left:0in;
	line-height:normal;
	border:none;
	padding:0in;
	font-size:20.0pt;
	font-family:"Arial Black",sans-serif;
	color:#464547;
	text-transform:uppercase;}
p.MsoBodyText, li.MsoBodyText, div.MsoBodyText
	{mso-style-link:"Body Text Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:0in;
	margin-left:0in;
	margin-bottom:.0001pt;
	line-height:normal;
	font-size:10.0pt;
	font-family:"Trebuchet MS",sans-serif;
	color:#464547;}
a:link, span.MsoHyperlink
	{font-family:"Trebuchet MS",sans-serif;
	color:#1A9CB0;
	text-decoration:underline;}
p.MsoTocHeading, li.MsoTocHeading, div.MsoTocHeading
	{margin:0in;
	margin-bottom:.0001pt;
	text-align:center;
	line-height:normal;
	font-size:14.0pt;
	font-family:"Arial Black",sans-serif;
	color:#464547;
	text-transform:uppercase;
	font-weight:bold;}
span.BodyTextChar
	{mso-style-name:"Body Text Char";
	mso-style-link:"Body Text";
	font-family:"Trebuchet MS",sans-serif;
	color:#464547;}
p.ProjectName, li.ProjectName, div.ProjectName
	{mso-style-name:ProjectName;
	mso-style-link:"ProjectName Char";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:0in;
	line-height:normal;
	page-break-after:avoid;
	font-size:14.0pt;
	font-family:"Arial Black",sans-serif;
	color:#464547;}
span.ProjectNameChar
	{mso-style-name:"ProjectName Char";
	mso-style-link:ProjectName;
	font-family:"Arial Black",sans-serif;
	color:#464547;}
p.NoteStyle, li.NoteStyle, div.NoteStyle
	{mso-style-name:"Note Style";
	margin-top:6.0pt;
	margin-right:0in;
	margin-bottom:6.0pt;
	margin-left:28.35pt;
	text-indent:-28.35pt;
	line-height:normal;
	font-size:10.0pt;
	font-family:"Trebuchet MS",sans-serif;
	color:#464547;}
span.CommentTextChar
	{mso-style-name:"Comment Text Char";
	mso-style-link:"Comment Text";}
.MsoChpDefault
	{font-size:10.0pt;}
 /* Page Definitions */
 @page WordSection1
	{size:595.45pt 841.7pt;
	margin:56.7pt 42.55pt 56.7pt 56.7pt;}
div.WordSection1
	{page:WordSection1;}
 /* List Definitions */
 ol
	{margin-bottom:0in;}
ul
	{margin-bottom:0in;}
-->
</style>
<link rel="stylesheet" href="../../styles/main.css" />
<script src="../../scripts/main.js" ></script>
</head>

<body lang=RU link="#1A9CB0" vlink="#954F72">

<div class=WordSection1>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText>

<table cellpadding=0 cellspacing=0 align=left>
 <tr>
  <td width=8 height=177></td>
 </tr>
 <tr>
  <td></td>
  <td><img width=96 height=34 src="lecture_files/image001.png"></td>
 </tr>
</table>

<span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<br clear=ALL>

<table class=MsoNormalTable border=0 cellspacing=0 cellpadding=0
 style='border-collapse:collapse'>
 <tr style='height:79.15pt'>
  <td width=624 valign=top style='width:467.95pt;padding:0in 5.4pt 0in 5.4pt;
  height:79.15pt'>
  <div style='border:none;border-bottom:solid #A5A5A5 1.0pt;padding:0in 0in 1.0pt 0in'>
  <p class=MsoTitle align=center style='text-align:center'><a
  name="_Toc34923236">Делегаты в <span lang=EN-US>.NET</span></a></p>
  </div>
  </td>
 </tr>
 <tr>
  <td width=624 valign=top style='width:467.95pt;padding:0in 5.4pt 0in 5.4pt'>
  <p class=ProjectName><span lang=EN-US>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

<span lang=EN-US style='font-size:10.0pt;font-family:"Times New Roman",serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-family:"Trebuchet MS",sans-serif;color:#464547'>&nbsp;</span></p>

<p class=MsoTocHeading>Содержание</p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923236"><span lang=RU>Делегаты
в </span>.NET<span style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>1</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923237"><span lang=RU>1</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Введение</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923238"><span lang=RU>2</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Что такое делегат</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>3</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923239"><span lang=RU>3</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Анонимные функции</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>4</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923240">4<span lang=RU
style='font-size:11.0pt;color:windowtext;text-transform:none;text-decoration:
none'>     </span>Delegate vs MulticastDelegate vs delegate<span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>5</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923241"><span lang=RU>5</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Применение делегатов</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923242"><span lang=RU>6</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Стандартные типы делегатов</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>6</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923243"><span lang=RU>7</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Для дополнительного чтения</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>7</span></a></span></p>

<p class=MsoToc1><span lang=EN-US><a href="#_Toc34923244"><span lang=RU>8</span><span
lang=RU style='font-size:11.0pt;color:windowtext;text-transform:none;
text-decoration:none'>     </span><span lang=RU>Вопросы</span><span
style='color:#3B3838;display:none;text-decoration:none'>. </span><span
style='color:#3B3838;display:none;text-decoration:none'>8</span></a></span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<span style='font-size:10.0pt;font-family:"Trebuchet MS",sans-serif;color:#464547'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='line-height:normal'><span style='font-family:"Trebuchet MS",sans-serif;
color:#464547'>&nbsp;</span></p>

<h1><a name="_Toc34923237">1<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Введение</a></h1>

<p class=MsoBodyText>При разработке .<span lang=EN-US>NET</span><span
lang=EN-US> </span><span lang=EN-US>Framework</span><span lang=EN-US> </span>самых
первых версий разработчики учли потенциальную необходимость передачи методов в
качестве параметров в другие методы. Для реализации этой возможности были
разработаны специальные типы, которые называются делегатами. </p>

<h1><a name="_Toc34923238">2<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Что такое делегат</a></h1>

<p class=MsoBodyText>Делегат — это тип, который представляет ссылки на методы с
определенным списком параметров и типом возвращаемого значения. При создании
экземпляра делегата этот экземпляр можно связать с любым методом с совместимой
сигнатурой и типом возвращаемого значения. Метод можно вызвать (активировать) с
помощью экземпляра делегата.</p>

<p class=MsoBodyText>Делегаты используются для передачи методов в качестве
аргументов к другим методам. Делегату можно назначить любой метод из любого
доступного класса или структуры, соответствующей типу делегата. Этот метод
должен быть статическим методом или методом экземпляра. Это позволяет
программно изменять вызовы метода, а также включать новый код в существующие
классы.</p>

<p class=MsoBodyText>Благодаря возможности ссылаться на метод как на параметр
делегаты идеально подходят для определения методов обратного вызова. Например,
ссылка на метод, сравнивающий два объекта, может быть передана в качестве
аргумента алгоритму сортировки. Поскольку код сравнения находится в отдельной
процедуре, алгоритм сортировки может быть написан более общим способом.</p>

<p class=MsoBodyText><span lang=EN-US>Делегаты имеют следующие свойства:</span></p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Делегаты подобны указателям на функции в <span lang=EN-US>C</span>++,
но являются полностью объектно-ориентированными и, в отличие от указателей <span
lang=EN-US>C</span>++ на функции-члены, инкапсулируют экземпляр объекта вместе
с методом.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Делегаты допускают передачу методов в качестве параметров.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Делегаты можно использовать для определения методов обратного
вызова.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Делегаты можно связывать друг с другом; например, при появлении
одного события можно вызывать несколько методов.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Точное соответствие методов типу делегата не требуется. </p>

<p class=MsoBodyText>Тип делегата задается его именем. В следующем примере
объявляется делегат с именем <span lang=EN-US>MyDelegate</span>, который может
инкапсулировать метод, использующий в качестве аргумента значение <span
lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/builtin-types/reference-types"><span
style='color:#464547;text-decoration:none'>string</span></a></span> и
возвращающий значение <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/builtin-types/void"><span
style='color:#464547;text-decoration:none'>void</span></a></span>:</p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>public</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>delegate</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>MyDelegate</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>string</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
customString);</span></p>

<p class=MsoBodyText>Существует несколько способов объявления объекта делегата.
Один из них — это передача именованного метода для инициализации делегата.</p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>public</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>static</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
PrintMessage(</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>string</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> message)</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>{</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>   
Console.WriteLine($&quot;From <a></a><a></a><a>{nameof(PrintMessage)}</a></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_1"
onmouseover="msoCommentShow('_anchor_1','_com_1')"
onmouseout="msoCommentHide('_com_1')" href="#_msocom_1" language=JavaScript
name="_msoanchor_1">[AS1]</a>&nbsp;</span></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_2"
onmouseover="msoCommentShow('_anchor_2','_com_2')"
onmouseout="msoCommentHide('_com_2')" href="#_msocom_2" language=JavaScript
name="_msoanchor_2">[DS2]</a>&nbsp;</span></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_3"
onmouseover="msoCommentShow('_anchor_3','_com_3')"
onmouseout="msoCommentHide('_com_3')" href="#_msocom_3" language=JavaScript
name="_msoanchor_3">[DS3]</a>&nbsp;</span></span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>: {message}&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'>}</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>Инициализируем</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>делегат</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>MyDelegate delegateInstance
= PrintMessage;</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=NoteStyle><b>Note: </b>Оператор <span lang=EN-US><a
href="https://docs.microsoft.com/en-us/dotnet/csharp/language-reference/operators/nameof"><i><span
lang=RU>nameof</span></i></a></span> возвращает название члена класса, типа или
переменной в виде строки-константы</p>

<p class=MsoBodyText>После того, как был создан экземпляр делегата, можно
выполнить вызов этого делегата как обычного метода. Этот вызов будет
передаваться или, другими словами, <i>делегироваться </i>методу <a>(или
нескольким методам, см. </a><a href="#_Delegate_vs_MulticastDelegate">Раздел 4</a>)<span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_4"
onmouseover="msoCommentShow('_anchor_4','_com_4')"
onmouseout="msoCommentHide('_com_4')" href="#_msocom_4" language=JavaScript
name="_msoanchor_4">[AS4]</a>&nbsp;</span></span>, которые скрыты за этим
делегатом. Параметры, передаваемые делегату вызывающим кодом, передаются в
метод(-ы), а возвращаемое методом значение (при его наличии) возвращается
делегатом обратно в вызывающий код.  <span lang=EN-US>Пример:</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>Инициализируем</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>делегат</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>MyDelegate delegateInstance
= PrintMessage;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>Вызываем</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>делегат</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'>delegateInstance(</span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:#A31515'>&quot;Hello World!&quot;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>);<br
clear=all style='page-break-before:always'>
</span></p>

<h1><a name="_Toc34923239">3<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Анонимные функции</a></h1>

<p class=MsoBodyText>С развитием языка появлялись новые, более удобные способы
для инициализации делегата. К таким способам относятся анонимные функции.</p>

<p class=MsoBodyText>Анонимная функция — это &quot;встроенный&quot; оператор
или выражение, которое может использоваться, когда тип делегата неизвестен. Ее
можно использовать для инициализации именованного делегата или передать вместо
типа именованного делегата в качестве параметра метода.</p>

<p class=MsoBodyText>Для создания анонимной функции можно использовать
лямбда-выражение или анонимный метод. Рекомендуется использовать
лямбда-выражения, так как это более лаконичный способ написания встроенного
кода. </p>

<p class=MsoBodyText>Лямбда-выражения могут записываться в одной из следующих
форм:</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>1.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>(входные
параметры) =&gt; выражение, когда требуется выполнить только одну строчку кода.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>(входные
параметры) =&gt; { блок инструкций }, когда надо выполнить несколько действий.</p>

<p class=MsoBodyText>Для создания анонимного метода используется <i>оператор </i><i><span
lang=EN-US>delegate</span></i><i>. </i>Его использование рассмотрим на общем
примере со всеми видами объявления объектов делегатов:</p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:blue'>public</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>static</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
PrintMessage(</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>string</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> message)</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>{</span></p>

<p class=MsoNormal style='line-height:normal'><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'>   
Console.WriteLine($&quot;From {nameof(PrintMessage)}: {message}&quot;);</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'>}</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>public</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>static</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
DemonstrateDelegateSyntax()</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>{</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>     // </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>Изначальный</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>синтаксис</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>требовал</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>инициализацию</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>с</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>именем</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>метода</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>.</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    
MyDelegate myDelegate1 = </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>new</span><span lang=EN-US style='font-size:
9.5pt;font-family:Consolas;color:black'> MyDelegate(PrintMessage);</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// Сейчас можно
использовать упрощенный синтаксис:</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// MyDelegate testDelA
= PrintMessage;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// C# 2.0: Делегат
может быть инициализирован </span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>с</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>помощью</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'> &quot;</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>анонимного</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>метода</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>&quot;:</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    
MyDelegate myDelegate2 = </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>delegate</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'> (</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>string</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> s) {
Console.WriteLine(</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:#A31515'>&quot;From anonymous method: &quot;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> + s); };</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// C# 3.0. Делегат
может быть инициализирован </span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// с помощью
лямбда-выражения.</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>MyDelegate myDelegate3
= (x) =&gt; { Console.WriteLine(</span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:#A31515'>&quot;From lambda: &quot;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> + x); };</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     myDelegate1(</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#A31515'>&quot;One&quot;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    
myDelegate2(</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:#A31515'>&quot;Two&quot;</span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    
myDelegate3(</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:#A31515'>&quot;Three&quot;</span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:black'>);</span></p>

<p class=MsoNormal><span style='font-size:9.5pt;font-family:Consolas;
color:black'>}</span></p>

<span style='font-size:9.5pt;font-family:Consolas;color:black'><br clear=all
style='page-break-before:always'>
</span>

<p class=MsoNormal style='line-height:normal'><span style='font-size:9.5pt;
font-family:Consolas;color:black'>&nbsp;</span></p>

<h1><a name="_Toc34923240"></a><a name="_Delegate_vs_MulticastDelegate"></a><span
lang=EN-US>4<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US style='text-transform:none'>Delegate</span><span
lang=EN-US> </span><span lang=EN-US style='text-transform:none'>vs
MulticastDelegate vs</span><span lang=EN-US> </span><span lang=EN-US
style='text-transform:none'>delegate</span></h1>

<p class=MsoBodyText>Использование <i><u>ключевого слова</u> </i><i><span
lang=EN-US>delegate</span></i><i><span lang=EN-US> </span></i>для создания
собственных типов делегатов подразумевает, что при компиляции будет неявно
создан новый класс, наследуемый от <i><u>класса</u> </i><i><span lang=EN-US>MulticastDelegate</span></i><i>,
</i>который, в свою очередь, наследуется от <i><u>класса</u> </i><i><span
lang=EN-US>Delegate</span></i><i>. </i>Гененируемые классы являются
запечатанными (<i><span lang=EN-US>sealed</span></i>), поэтому их невозможно
использовать в дальнейшем при построении иерархии классов. Наследование
напрямую от базовых классов <i><span lang=EN-US>MulticastDelegate</span></i> и <i><span
lang=EN-US>Delegate</span></i> также запрещено, несмотря на то, что классы
объявлены как абстрактные (<i><span lang=EN-US>abstract</span></i>).</p>

<p class=MsoBodyText>Таким образом, все типы делегатов в .<span lang=EN-US>NET</span>
являются <i><span lang=EN-US>MulticastDelegate</span></i><i>. </i>Это означает,
что делегат может содержать и запускать цепочку методов с подходящей
сигнатурой. </p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>public</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>delegate</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>MyDelegate</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>string</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
customString);</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>public</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>delegate</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>int</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>MyIntDelegate</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>();</span></p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>public</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>static</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
DemostrateMulticastDelegateInherirance()</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>{</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>var</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>
delegateTypes = </span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:blue'>new</span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:black'> List&lt;Type&gt;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>    {</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>наши</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>кастомные</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>типы</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>делегатов</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(MyDelegate),</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(MyIntDelegate),</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:green'>// </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>предопределенные</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>типы</span><span
style='font-size:9.5pt;font-family:Consolas;color:green'> </span><span
style='font-size:9.5pt;font-family:Consolas;color:green'>делегатов</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(<a></a><a>Action),</a></span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(Predicate&lt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>string</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&gt;),</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(Func&lt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>bool</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&gt;)</span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_5"
onmouseover="msoCommentShow('_anchor_5','_com_5')"
onmouseout="msoCommentHide('_com_5')" href="#_msocom_5" language=JavaScript
name="_msoanchor_5">[AS5]</a>&nbsp;</span></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_6"
onmouseover="msoCommentShow('_anchor_6','_com_6')"
onmouseout="msoCommentHide('_com_6')" href="#_msocom_6" language=JavaScript
name="_msoanchor_6">[DS6]</a>&nbsp;</span></span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     };</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>foreach</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> (var
delegateType </span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>in</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'> delegateTypes)</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     {</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        var
isSubclassOfMulticast = delegateType.IsSubclassOf(</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:blue'>typeof</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>(MulticastDelegate));</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>        <a>Console.WriteLine(</a></span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#A31515'>$&quot;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>{delegateType.Name}</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#A31515'> subclass
of </span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:black'>{nameof(MulticastDelegate)}</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:#A31515'>: </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>{ isSubclassOfMulticast
}</span><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:#A31515'>&quot;</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'>);</span><span class=MsoCommentReference><span
lang=EN-US style='font-size:8.0pt'><a class=msocomanchor id="_anchor_7"
onmouseover="msoCommentShow('_anchor_7','_com_7')"
onmouseout="msoCommentHide('_com_7')" href="#_msocom_7" language=JavaScript
name="_msoanchor_7">[AS7]</a>&nbsp;</span></span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>     </span><span
style='font-size:9.5pt;font-family:Consolas;color:black'>}</span></p>

<p class=MsoNormal><span style='font-size:9.5pt;font-family:Consolas;
color:black'>}</span></p>

<p class=MsoNormal><span style='font-size:9.5pt;font-family:Consolas;
color:black'>&nbsp;</span></p>

<p class=NoteStyle><b>Note: </b>Описание предопределенных делегатов
представлено ниже в <span lang=EN-US><a href="#_Стандартные_типы_делегатов"><span
lang=RU>разделе 6</span></a></span>.</p>

<p class=MsoBodyText>Выполнение приведенного выше кода выведет на консоль
следующий результат, который говорит о том, что все делегаты, как кастомные,
так и предопределенные, являются наследниками класса <span lang=EN-US>MulticastDelegate</span>:</p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=441 height=127
id="Picture 1" src="lecture_files/image002.png"></span></p>

<p class=MsoBodyText><a></a><a>Для добавления еще одного метода в цепочку
вызовов делегата можно воспользоваться </a><span class=MsoCommentReference><span
lang=EN-US style='font-size:8.0pt;font-family:"Times New Roman",serif;
color:windowtext'><a class=msocomanchor id="_anchor_8"
onmouseover="msoCommentShow('_anchor_8','_com_8')"
onmouseout="msoCommentHide('_com_8')" href="#_msocom_8" language=JavaScript
name="_msoanchor_8">[AS8]</a>&nbsp;</span></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt;font-family:
"Times New Roman",serif;color:windowtext'><a class=msocomanchor id="_anchor_9"
onmouseover="msoCommentShow('_anchor_9','_com_9')"
onmouseout="msoCommentHide('_com_9')" href="#_msocom_9" language=JavaScript
name="_msoanchor_9">[DS9]</a>&nbsp;</span></span>оператором “+” или “+=”. В
этом случае компилятор неявно преобразует передаваемый метод в делегат, а затем
используется метод <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.delegate.combine?view=netframework-4.8"><span
lang=RU>Delegate.Combine</span></a><a></a></span> <span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt;font-family:
"Times New Roman",serif;color:windowtext'><a class=msocomanchor id="_anchor_10"
onmouseover="msoCommentShow('_anchor_10','_com_10')"
onmouseout="msoCommentHide('_com_10')" href="#_msocom_10" language=JavaScript
name="_msoanchor_10">[AS10]</a>&nbsp;</span></span>для конкатенации цепочек
вызовов двух делегатов. </p>

<p class=MsoBodyText>Аналогично, если необходимо убрать метод из цепочки
вызовов, можно использовать операторы “-” или “-=”, которые “под капотом”
преобразуются в вызов метода <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.delegate.remove?view=netframework-4.8"><span
lang=RU>Delegate.Remove</span></a></span>. Удаление методов происходит начиная
с конца. </p>

<p class=MsoBodyText>Необходимо помнить о том, что если сигнатура делегата
подразумевает возвращаемое значение, и делегат содержит в себе цепочку методов,
которые необходимо вызвать, то вызывающий код получит возвращаемое значение <u>только
самого последнего метода</u> из цепочки вызова.</p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// первый метод
возвращает значение 0</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>MyIntDelegate
myIntDelegate = () =&gt; 0;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// второй метод
возвращает значение 150</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>myIntDelegate += ()
=&gt; 150;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:black'>&nbsp;</span></p>

<p class=MsoNormal style='line-height:normal;text-autospace:none'><span
style='font-size:9.5pt;font-family:Consolas;color:green'>// в консоли видим
результат: 150</span></p>

<p class=MsoNormal><span style='font-size:9.5pt;font-family:Consolas;
color:black'>Console.WriteLine(myIntDelegate());</span></p>

<h1><a name="_Toc34923241">5<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Применение делегатов</a></h1>

<p class=MsoBodyText>Одно из самых распространенных применений делегатов — это
механизм событий (<i><span lang=EN-US>events</span></i>) в .<span lang=EN-US>NET</span>,
который является темой следующего занятия.</p>

<p class=MsoBodyText>Компонент <i><span lang=EN-US>LINQ</span></i>,
рассмотренный на прошлом занятии, практически полностью построен на
использовании делегатов. <span lang=EN-US>Например рассмотрим один из самых
используемых <i>методов-расширений Select</i>:</span></p>

<p class=MsoNormal><span lang=EN-US><img border=0 width=600 height=91
id="Picture 1830851530" src="lecture_files/image003.png"></span></p>

<p class=MsoBodyText>Интерес представляет параметр этого метода типа <i><span
lang=EN-US>Func</span></i><i>&lt;</i><i><span lang=EN-US>TSource</span></i><i>,</i><i><span
lang=EN-US>TResult</span></i><i>&gt;,</i> более подробное описание которого
следует ниже. Этот тип является стандартным обобщенным типом делегата в .<span
lang=EN-US>NET</span>. По каждому элементу исходной коллекции происходит вызов
переданного <i>делегата-</i>селектора<i>, </i>который передает этот элемент <i>методу,
скрытому в этом делегате</i>.<i> </i>Таким образом формируются элементы
выходной коллекции.</p>

<h1><a name="_Toc34923242"></a><a name="_Стандартные_типы_делегатов"></a>6<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Стандартные типы делегатов</h1>

<p class=MsoBodyText>При разработке .<span lang=EN-US>NET</span> приложений
широко используются стандартные типы делегатов <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.action?view=netframework-4.8">Action</a><a></a></span>
и <a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.func-2?view=netframework-4.8"><span
lang=EN-US>Func</span>&lt;<span lang=EN-US>T</span>&gt;</a>. <span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt;font-family:
"Times New Roman",serif;color:windowtext'><a class=msocomanchor id="_anchor_11"
onmouseover="msoCommentShow('_anchor_11','_com_11')"
onmouseout="msoCommentHide('_com_11')" href="#_msocom_11" language=JavaScript
name="_msoanchor_11">[AS11]</a>&nbsp;</span></span></p>

<p class=MsoBodyText>Тип делегата <span lang=EN-US>Action</span> является
стандартным делегатом <i>действия без возвращаемого результата, </i>следовательно,
типом возвращаемого значения методов, на которые может ссылаться делегат такого
типа, является <span lang=EN-US>void</span>. Может принимать до 16 входных
параметров. Тип делегата <span lang=EN-US>Action</span>&lt;<span lang=EN-US>T</span>&gt;
можно было бы переписать в следующем представлении: </p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>public</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>delegate</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:blue'>void</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'> </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>Action</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&lt;T&gt;(T
value);</span></p>

<p class=MsoBodyText>Тип делегата <span lang=EN-US>Func</span>, напротив,
предусматривает обязательное выходное значение. Может принимать до 16 входных
параметров. Тип делегата <span lang=EN-US>Func</span>&lt;<span lang=EN-US>T</span>,
<span lang=EN-US>TResult</span>&gt; можно было бы переписать в следующем
представлении: </p>

<p class=MsoNormal><span lang=EN-US style='font-size:9.5pt;font-family:Consolas;
color:blue'>public</span><span lang=EN-US style='font-size:9.5pt;font-family:
Consolas;color:black'> </span><span lang=EN-US style='font-size:9.5pt;
font-family:Consolas;color:blue'>delegate</span><span lang=EN-US
style='font-size:9.5pt;font-family:Consolas;color:black'> TResult </span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>Func</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&lt;</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>T</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>,</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:#2B91AF'>TResult</span><span
lang=EN-US style='font-size:9.5pt;font-family:Consolas;color:black'>&gt;(T
value);</span></p>

<p class=MsoBodyText>Тип, который указывается последним в угловых скобках,
является <a>типом возвращаемого значения для данного делегата.</a><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_12"
onmouseover="msoCommentShow('_anchor_12','_com_12')"
onmouseout="msoCommentHide('_com_12')" href="#_msocom_12" language=JavaScript
name="_msoanchor_12">[AS12]</a>&nbsp;</span></span></p>

<p class=MsoBodyText>Зачастую при разработке достаточно стандартных типов
делегатов <span lang=EN-US>Action</span> и <span lang=EN-US>Func</span>. Однако
существуют сценарии, при которых можно и нужно создавать собственные типы
делегатов:</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
lang=EN-US style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span><span lang=EN-US>Количество входных параметров более 16;</span></p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Ключевые слова <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/out-parameter-modifier">out</a><a></a></span>,
<a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/ref"><span
lang=EN-US>ref</span><span lang=EN-US style='font-size:8.0pt;font-family:"Times New Roman",serif'><a
class=msocomanchor id="_anchor_13"
onmouseover="msoCommentShow('_anchor_13','_com_13')"
onmouseout="msoCommentHide('_com_13')" href="#_msocom_13" language=JavaScript
name="_msoanchor_13">[AS13]</a>&nbsp;</span></a>, <span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/params">params</a></span>
и значений по умолчанию для входных параметров;</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><a></a><a><span
style='font-family:Symbol'>·<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span></span>Обозначения смысловой нагрузки </a><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_14"
onmouseover="msoCommentShow('_anchor_14','_com_14')"
onmouseout="msoCommentHide('_com_14')" href="#_msocom_14" language=JavaScript
name="_msoanchor_14">[AS14]</a>&nbsp;</span></span><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'><a
class=msocomanchor id="_anchor_15"
onmouseover="msoCommentShow('_anchor_15','_com_15')"
onmouseout="msoCommentHide('_com_15')" href="#_msocom_15" language=JavaScript
name="_msoanchor_15">[DS15]</a>&nbsp;</span></span>и переиспользования данного
типа делегатов.</p>

<p class=MsoBodyText>Также, в .<span lang=EN-US>NET</span> предопределен тип
делегата <span lang=EN-US>Predicate</span>&lt;<span lang=EN-US>T</span>&gt;,
который применяется в некоторых стандартных методах, например <span lang=EN-US>Array</span>.<span
lang=EN-US>Find</span>. Однако, он редко применяется в промышленной разработке.
Ознакомиться с информацией об этом типе можно на сайте <span lang=EN-US>Microsoft</span>:
</p>

<span style='font-size:10.0pt;font-family:"Times New Roman",serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='line-height:normal'><span style='font-family:"Trebuchet MS",sans-serif;
color:#464547'>&nbsp;</span></p>

<h1><a name="_Toc34923243">7<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Для дополнительного чтения</a></h1>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.predicate-1?view=netcore-3.1"><span
lang=RU>Стандартный делегат </span>System<span lang=RU>.</span>Predicate</a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/programming-guide/statements-expressions-operators/anonymous-functions"><span
lang=RU>Использование анонимных функций. Лямбда-выражения и анонимные методы</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.delegate.remove?view=netframework-4.8"><span
lang=RU>Метод</span> Delegate.Remove</a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/api/system.delegate.combine?view=netframework-4.8"><span
lang=RU>Метод</span> Delegate.Combine</a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/programming-guide/classes-and-structs/extension-methods"><span
lang=RU>Методы-расширения</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/params"><span
lang=RU>Использование ключевого слова params</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/ref"><span
lang=RU>Использование ключевого слова ref</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/language-reference/keywords/out-parameter-modifier"><span
lang=RU>Использование ключевого слова out</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://ru.wikipedia.org/wiki/Callback_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5"><span
lang=RU>Функция обратного вызова (Callback)</span></a></span></p>

<p class=MsoBodyText><span lang=EN-US><a
href="https://docs.microsoft.com/ru-ru/dotnet/csharp/programming-guide/concepts/covariance-contravariance/using-variance-in-delegates"><span
lang=RU>Использование вариативности в делегатах</span></a></span></p>

<span class=MsoHyperlink><span style='font-size:10.0pt'><br clear=all
style='page-break-before:always'>
</span></span>

<p class=MsoNormal style='line-height:normal'><u><span style='font-family:"Trebuchet MS",sans-serif;
color:#1A9CB0'><span style='text-decoration:none'>&nbsp;</span></span></u></p>

<h1><a name="_Toc34923244">8<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
</span>Вопросы</a></h1>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
lang=EN-US>1.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Что такое делегат? </span></p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>2.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Какие методы
могут использоваться в делегатах: <a>статические или экземплярные</a><span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt;font-family:
"Times New Roman",serif;color:windowtext'><a class=msocomanchor id="_anchor_16"
onmouseover="msoCommentShow('_anchor_16','_com_16')"
onmouseout="msoCommentHide('_com_16')" href="#_msocom_16" language=JavaScript
name="_msoanchor_16">[AS16]</a>&nbsp;</span></span>?</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>3.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Как объявить
свой тип делегата?</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>4.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Какие
стандартные типы делегатов существуют?</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>5.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Как добавить
метод в делегат? 3 вида синтаксиса.</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'><span
lang=EN-US>6.<span style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span></span><span
lang=EN-US>Как связаны слова Delegate, MulticastDelegate и delegate?</span></p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>7.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span>Какое значение
вернет вызов делегата, содержащего несколько методов?</p>

<p class=MsoBodyText style='margin-left:.5in;text-indent:-.25in'>8.<span
style='font:7.0pt "Times New Roman"'>&nbsp;&nbsp;&nbsp; </span><span
lang=EN-US>Основные применения делегатов.</span></p>

<span style='font-size:10.0pt;font-family:"Times New Roman",serif'><br
clear=all style='page-break-before:always'>
</span>

<p class=MsoNormal style='line-height:normal'><span style='font-family:"Trebuchet MS",sans-serif;
color:#464547'>&nbsp;</span></p>

<p class=MsoBodyText>&nbsp;</p>

<p class=MsoNormal style='line-height:normal'><span style='font-family:"Trebuchet MS",sans-serif;
color:#464547'>&nbsp;</span></p>

<table class=TableEPAM border=1 cellspacing=0 cellpadding=0 width="97%"
 style='width:97.74%;margin-left:5.4pt;border-collapse:collapse;border:none'>
 <thead>
  <tr>
   <td width="100%" colspan=6 style='width:100.0%;border:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>REVISION HISTORY</span></b></p>
   </td>
  </tr>
  <tr>
   <td width="9%" rowspan=2 style='width:9.1%;border:solid #767171 1.0pt;
   border-top:none;background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Ver.</span></b></p>
   </td>
   <td width="25%" rowspan=2 style='width:25.1%;border-top:none;border-left:
   none;border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Description of
   Change</span></b></p>
   </td>
   <td width="17%" rowspan=2 style='width:17.4%;border-top:none;border-left:
   none;border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Author</span></b></p>
   </td>
   <td width="17%" rowspan=2 style='width:17.4%;border-top:none;border-left:
   none;border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Date</span></b></p>
   </td>
   <td width="31%" colspan=2 style='width:31.0%;border-top:none;border-left:
   none;border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Approved</span></b></p>
   </td>
  </tr>
  <tr>
   <td width="15%" style='width:15.16%;border-top:none;border-left:none;
   border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Name</span></b></p>
   </td>
   <td width="15%" style='width:15.86%;border-top:none;border-left:none;
   border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
   background:#D0CECE;padding:0in 5.4pt 0in 5.4pt'>
   <p class=MsoNormal align=center style='text-align:center'><b><span
   style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Effective Date</span></b></p>
   </td>
  </tr>
 </thead>
 <tr>
  <td width="9%" style='width:9.1%;border:solid #767171 1.0pt;border-top:none;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>0.1</span></p>
  </td>
  <td width="25%" style='width:25.1%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span lang=EN-US
  style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>Initial version</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>Dmitry Sorokin1</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>12-</span><span lang=EN-US
  style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>MAR</span><span
  style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>-</span><span
  lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>2020</span></p>
  </td>
  <td width="15%" style='width:15.16%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.86%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>12-</span><span lang=EN-US
  style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>MAR</span><span
  style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>-</span><span
  lang=EN-US style='font-size:9.0pt;font-family:Consolas;color:#3B3838'>2020</span></p>
  </td>
 </tr>
 <tr>
  <td width="9%" style='width:9.1%;border:solid #767171 1.0pt;border-top:none;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="25%" style='width:25.1%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.16%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.86%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:"Trebuchet MS",sans-serif;color:#3B3838'>&nbsp;</span></p>
  </td>
 </tr>
 <tr>
  <td width="9%" style='width:9.1%;border:solid #767171 1.0pt;border-top:none;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="25%" style='width:25.1%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="17%" style='width:17.4%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.16%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
  <td width="15%" style='width:15.86%;border-top:none;border-left:none;
  border-bottom:solid #767171 1.0pt;border-right:solid #767171 1.0pt;
  background:white;padding:0in 5.4pt 0in 5.4pt'>
  <p class=MsoNormal style='margin-top:6.0pt'><span style='font-size:9.0pt;
  font-family:Consolas;color:#3B3838'>&nbsp;</span></p>
  </td>
 </tr>
</table>

<p class=MsoBodyText><span lang=EN-US>&nbsp;</span></p>

</div>

<div>

<hr class=msocomoff align=left size=1 width="33%">

<div>

<div id="_com_1" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_1','_com_1')"
onmouseout="msoCommentHide('_com_1')"><a name="_msocom_1"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_1" class=msocomoff>[AS1]</a></span></span>Давай
заменим на что то захардкоженное, <span lang=EN-US>nameof</span>() никто не
объяснял и может только загрузить<span class=MsoCommentReference><span
lang=EN-US style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_1"
class=msocomoff>[AS1]</a></span></span></p>

</div>

</div>

<div>

<div id="_com_2" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_2','_com_2')"
onmouseout="msoCommentHide('_com_2')"><a name="_msocom_2"></a>

<p class=MsoCommentText>Добавил коммент:   // функция <span lang=EN-US>nameof</span>
возвращает название метода в виде строки <span class=MsoCommentReference><span
lang=EN-US style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_2"
class=msocomoff>[DS2]</a></span></span></p>

<p class=MsoCommentText>Пойдёт?</p>

</div>

</div>

<div>

<div id="_com_3" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_3','_com_3')"
onmouseout="msoCommentHide('_com_3')"><a name="_msocom_3"></a>

<p class=MsoCommentText>Вынес в <span lang=EN-US>Note</span> после примера.<span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'>&nbsp;<a
href="#_msoanchor_3" class=msocomoff>[DS3]</a></span></span></p>

</div>

</div>

<div>

<div id="_com_4" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_4','_com_4')"
onmouseout="msoCommentHide('_com_4')"><a name="_msocom_4"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_4" class=msocomoff>[AS4]</a></span></span>Давай
сделаем отсылку о том, что в делегате может быть несколько методов на то место
где мы это рассказываем или уберём пока от сюда, чтобы читалось легче</p>

</div>

</div>

<div>

<div id="_com_5" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_5','_com_5')"
onmouseout="msoCommentHide('_com_5')"><a name="_msocom_5"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_5" class=msocomoff>[AS5]</a></span></span>В
примере используется то, о чём не было рассказано, надо это либо как то
обернуть, мол расскажем ниже, либо убрать, либо рассказать сначала про
стандартные делегаты</p>

</div>

</div>

<div>

<div id="_com_6" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_6','_com_6')"
onmouseout="msoCommentHide('_com_6')"><a name="_msocom_6"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_6" class=msocomoff>[DS6]</a></span></span>Сделал
ниже <span lang=EN-US>Note</span><span lang=EN-US> </span>со ссылкой на
соответствующий раздел</p>

</div>

</div>

<div>

<div id="_com_7" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_7','_com_7')"
onmouseout="msoCommentHide('_com_7')"><a name="_msocom_7"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_7" class=msocomoff>[AS7]</a></span></span>Давай
вынесем <span lang=EN-US>IsSubClassOf</span> в переменную</p>

</div>

</div>

<div>

<div id="_com_8" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_8','_com_8')"
onmouseout="msoCommentHide('_com_8')"><a name="_msocom_8"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_8" class=msocomoff>[AS8]</a></span></span>Здесь
нужен заголовок, чтобы было возможно быстро на это переключиться, так как очень
полезная информация</p>

</div>

</div>

<div>

<div id="_com_9" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_9','_com_9')"
onmouseout="msoCommentHide('_com_9')"><a name="_msocom_9"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_9" class=msocomoff>[DS9]</a></span></span>В
контексте делагатов, имхо, не очень полезная информация</p>

</div>

</div>

<div>

<div id="_com_10" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_10','_com_10')"
onmouseout="msoCommentHide('_com_10')"><a name="_msocom_10"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_10" class=msocomoff>[AS10]</a></span></span>Когда
пишем про методы, хорошо бы делать гипер ссылки на <span lang=EN-US>msdn</span>
чтобы можно быстро посмотреть подробнее</p>

</div>

</div>

<div>

<div id="_com_11" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_11','_com_11')"
onmouseout="msoCommentHide('_com_11')"><a name="_msocom_11"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_11" class=msocomoff>[AS11]</a></span></span>Давай
загиперссылим</p>

</div>

</div>

<div>

<div id="_com_12" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_12','_com_12')"
onmouseout="msoCommentHide('_com_12')"><a name="_msocom_12"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_12" class=msocomoff>[AS12]</a></span></span>…
является типом возвращаемого значения для данного делегата<span
class=MsoCommentReference><span lang=EN-US style='font-size:8.0pt'>&nbsp;<a
href="#_msoanchor_12" class=msocomoff>[AS12]</a></span></span></p>

<p class=MsoCommentText>Мне кажется так чуть проще, но я открыт для твоих идей</p>

</div>

</div>

<div>

<div id="_com_13" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_13','_com_13')"
onmouseout="msoCommentHide('_com_13')"><a name="_msocom_13"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_13" class=msocomoff>[AS13]</a></span></span>Загиперссылить,
о них не рассказывали на курсе</p>

</div>

</div>

<div>

<div id="_com_14" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_14','_com_14')"
onmouseout="msoCommentHide('_com_14')"><a name="_msocom_14"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_14" class=msocomoff>[AS14]</a></span></span>Тут
надо пояснить словами на лекции чем это важно</p>

</div>

</div>

<div>

<div id="_com_15" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_15','_com_15')"
onmouseout="msoCommentHide('_com_15')"><a name="_msocom_15"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_15" class=msocomoff>[DS15]</a></span></span>Помечу
себе, чтобы не забыть</p>

</div>

</div>

<div>

<div id="_com_16" class=msocomtxt language=JavaScript
onmouseover="msoCommentShow('_anchor_16','_com_16')"
onmouseout="msoCommentHide('_com_16')"><a name="_msocom_16"></a>

<p class=MsoCommentText><span class=MsoCommentReference><span lang=EN-US
style='font-size:8.0pt'>&nbsp;<a href="#_msoanchor_16" class=msocomoff>[AS16]</a></span></span><span
lang=EN-US><a id=OWAAM9FD327D20F214972B7E670F6E47AAC98
href="mailto:Roman_Kitar@epam.com"><u><span lang=RU>@</span>Roman</u><u> Kitar</u></a></span>,
<span lang=EN-US><a id=OWAAM6B241D177BB841ECA13FEE4179690E65
href="mailto:Sergey_Nikolskiy@epam.com"><u><span lang=RU>@</span>Sergey</u><u> Nikolskiy</u></a></span>,
ребята, подскажите, вы рассказывали про статику?</p>

</div>

</div>

</div>

</body>

</html>
